:root {
  --flip-duration: .7s;
  --card-w: clamp(16rem, 90vw, 28rem);
}

/* Card box scales fluidly, keeps a consistent ratio */
.flip-card {
  width: var(--card-w);
  aspect-ratio: 3 / 4;             /* default ratio */
  perspective: 1000px;
  cursor: pointer;
  touch-action: manipulation;
  margin-inline: auto;
}

.flip-card-inner {
  position: relative;
  width: 100%;
  height: 100%;
  transform-style: preserve-3d;
  transition: transform var(--flip-duration) ease;
  transform-origin: center;
  will-change: transform;
  transform: translateZ(0);
}

/* Click-only flip (matches JS toggling class on .flip-card-inner) */
.flip-card-inner.flip {
  transform: rotateY(180deg);
}

/* Faces occupy the same box to prevent layout shift */
.flip-card-front,
.flip-card-back {
  position: absolute;
  inset: 0;
  backface-visibility: hidden;
  border-radius: .75rem;
  overflow: hidden;
  padding: 1rem 1.25rem;
  display: flex;
  flex-direction: column;
  justify-content: center;
  box-shadow: 0 0.5rem 1rem rgba(0,0,0,.15);
}

/* Front */
.flip-card-front {
  background: #fff;
  color: #212529;
}

/* Back */
.flip-card-back {
  background: #212529;
  color: #f8f9fa;
  transform: rotateY(180deg);
}

/* Make type scale a bit on small screens */
.flip-card-front h4 {
  font-size: clamp(1.1rem, 4.5vw, 1.4rem);
  margin-bottom: .75rem;
}
.flip-card-front p,
.flip-card-back p {
  font-size: clamp(.95rem, 3.6vw, 1.05rem);
  margin-bottom: .5rem;
}

/* When viewport height is short (e.g., mobile landscape), switch ratio */
@media (orientation: landscape) and (max-height: 540px) {
  .flip-card { aspect-ratio: 16 / 9; }
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  .flip-card-inner { transition: none; transform: none; }
}